"use strict";!function(e){var t=e("#inliner-form"),r=e("#inliner-styles"),n=e("#inliner-markup");function i(e){var t=document.createElement("div");return t.innerHTML=e,t}t.on("submit",(function(e){e.preventDefault();var t=function(e){var t=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=e,t.body.appendChild(r),r.sheet.cssRules}(r.val()),o=i(n.val());Array.from(t).forEach((function(e){var t=o.querySelectorAll(e.selectorText);t&&Array.from(t).forEach((function(t){var r=t.getAttribute("style"),n=r?r.replace(/([^;])$/,"$1;"):"";t.setAttribute("style",n+e.style.cssText)}))})),Array.from(o.querySelectorAll("[id]")).forEach((function(e){e.removeAttribute("id")}));var a=require("html-minifier").minify(o.innerHTML,{caseSensitive:!1,collapseBooleanAttributes:!0,collapseInlineTagWhitespace:!1,collapseWhitespace:!0,conservativeCollapse:!1,decodeEntities:!0,html5:!0,includeAutoGeneratedTags:!1,keepClosingSlash:!1,minifyCSS:!0,preserveLineBreaks:!1,preventAttributesEscaping:!1,processConditionalComments:!0,processScripts:["text/html"],removeAttributeQuotes:!1,removeComments:!0,removeEmptyAttributes:!0,removeEmptyElements:!1,removeOptionalTags:!0,removeRedundantAttributes:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,removeTagWhitespace:!1,sortAttributes:!0,sortClassName:!0,trimCustomFragments:!0,useShortDoctype:!0}),l=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(l,"inlined.html")})).on("reset"),e("#import-html-file").on("click",(function(t){t.preventDefault();var o=e.mk("input").attr({type:"file",accept:".html,text/html"});o.click(),o.on("change",(function(e){var t=e.target.files;if(t[0]){var o=new FileReader;o.onload=function(e){var t=i(e.target.result),o=t.querySelectorAll("style");if(o){var a=[];Array.from(o).forEach((function(e){a.push(e.innerText.trim()),e.parentNode.removeChild(e)})),r.val(a.join("\n"))}n.val(t.innerHTML.trim())},o.readAsText(t[0],"UTF-8")}}))}))}(jQuery);
//# sourceMappingURL=../maps/inliner.js.map
