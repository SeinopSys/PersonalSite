"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,s=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){var e=t("#main-tabs");$w.on("hashchange",(function(){!function(n){if(n&&/^#[a-z-]+$/.test(n)){t(".tab-panel").addClass("d-none");var r=t(n),a=e.find("a").removeClass("active");r.length?(r.removeClass("d-none"),a.filter((function(){return this.hash===n})).addClass("active")):t(".tab-panel.not-found").removeClass("d-none").show()}else{var s=e.find("a").first().addClass("active");t(s.attr("href")).removeClass("d-none")}}(window.location.hash)})).triggerHandler("hashchange"),t(".tab-panel form").on("clear",(function(e){t(e.target).find(".form-control[required], .form-control[pattern]").each((function(e,n){t(n).trigger("change")}))})),t(".form-control[required], .form-control[pattern]").on("keydown keyup change",(function(e){var n,r=t(e.target);if("INPUT"===e.target.tagName)n=r.is(":valid");else if(n=void 0===r.attr("required")||r.val().length>0){var a=r.attr("pattern");void 0!==a&&(n=new RegExp(a).test(r.val()))}r[n?"removeClass":"addClass"]("is-invalid")})).trigger("change");var n=function(e){return t.pad(e,"0",8)},r=function(e){return t.pad(e,"0",16)},a=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0";return t.pad(e,a,r?128:32,n)},s=function(t){return t.replace(/(^|:)0(:0)*:0(:|$)/,"::")},o=function(e,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];return"string"==typeof e&&(e=e.split(a)),t.each(e,(function(t,e){o.push((s?r:n)(parseInt(e,10).toString(2)))})),o.join(a)},i=function(e){var n=[];return"number"==typeof e&&(e=e.toString(2)),e=-1===e.indexOf(".")?e.match(/.{8}/g):e.split("."),t.each(e,(function(t,e){n.push(parseInt(e,2))})),n.join(".")},l=function(e){var n=[];return"number"==typeof e&&(e=e.toString(2)),e=-1===e.indexOf(":")?e.match(/.{16}/g):e.split(":"),t.each(e,(function(t,e){n.push(parseInt(e,2).toString(16))})),s(n.join(":"))},c=function(t){var e=t.split("/");return!(e.length>2)&&(/^[\d.]+$/.test(e[0])?"4":!!/^[\da-f:]+$/i.test(e[0])&&"6")},h=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))};"function"!=typeof Math.log2&&(Math.log2=function(t){return Math.log(t)*Math.LOG2E});var u,d,f,v,p,g,m,_=function t(e){_classCallCheck(this,t),this.message=e,this.name="ValidationError"},y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"incrRange",value:function(e,n,r){"number"!=typeof r&&(r=1);var a=this.getBinary(),s=a.substring(e,e+n),o=t.pad((parseInt(s,2)+r).toString(2),"0",n);if(o.length>n)throw new Error("Incremented length exceeds available space");return a=a.substring(0,e)+o+a.substring(e+Math.max(n,o.length)),this.setBinary(a),this}},{key:"getBinary",value:function(){throw new Error("Method must be implemented by extending class")}},{key:"setBinary",value:function(){throw new Error("Method must be implemented by extending class")}},{key:"addBinary",value:function(e){var n=this.getBinary();"string"!=typeof e&&(e=e.toString(2)),e.length<n.length&&(e=t.pad(e,"0",n.length,t.pad.left));for(var r=n.length-1,a=e.length-1,s=0,o="";r>=0||a>=0;){o=(s+=(r<0?0:0|n[r])+(a<0?0:0|e[a]))%2+o,s=s/2|0,r--,a--}return 0!==s&&(o=s+o),this.setBinary(o),this}}]),e}(),w=function(e){_inherits(r,e);var n=_createSuper(r);function r(e){var a;if(_classCallCheck(this,r),(a=n.call(this)).parts=e.split("."),4!==a.parts.length)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipadd_format_invalid,{dotdec:e}));return t.each(a.parts,(function(n,r){var s=parseInt(r,10);if(isNaN(s))throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipadd_octet_invalid,{dotdec:e,n:n+1,why:Laravel.jsLocales.vlsm_error_ipadd_octet_invalid_nan}));if(s>255||s<0)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipadd_octet_invalid,{dotdec:e,n:n+1,why:Laravel.jsLocales.vlsm_error_ipadd_octet_invalid_range}));a.parts[n]=s})),a}return _createClass(r,[{key:"networkAddress",value:function(t){for(var e=this.getBinary(),n=t.getBinary(),a="",s=0,o=n.length;s<o;s++)a+="1"===n[s]?e[s]:n[s];return new r(i(a))}},{key:"toString",value:function(){return this.parts.join(".")}},{key:"getBinary",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(this.parts,t?".":"")}},{key:"setBinary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t=t.replace(/\./g,"")),this.constructor(i(t)),this}}],[{key:"fromBinary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t=t.replace(/\./g,"")),new r(i(t))}}]),r}(y),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.value.toString(16).toLowerCase();return e&&(n=t.pad(n,"0",4)),n}}]),e}(),k=function(e){_inherits(r,e);var n=_createSuper(r);function r(e){var a;if(_classCallCheck(this,r),a=n.call(this),-1!==e.indexOf("::")){var s=e.split("::");if(s.length>2)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_short_invalid,{colonhex:e}));if(0===s[0].length)if(0===s[1].length)a.blocks=t.strRepeat("0",8).split("").map((function(){return new b}));else{var o=s[1].split(":");if(a.blocks=[],t.each(o,(function(t,n){a.blocks.push(r.parseBlock(n,e,t))})),a.blocks.length<8){for(var i=[],l=0;l<8-a.blocks.length;l++)i.push(new b);a.blocks.splice.apply(a.blocks,[0,0].concat(i))}else if(a.blocks.length>8)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_too_many_blocks,{colonhex:e}))}else{var c=s[0].split(":");if(a.blocks=[],t.each(c,(function(t,n){a.blocks.push(r.parseBlock(n,e,t))})),0===s[1].length){if(a.blocks.length<8)for(;a.blocks.length<8;)a.blocks.push(new b);else if(a.blocks.length>8)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_too_many_blocks,{colonhex:e}))}else{var h=s[1].split(":"),u=[];t.each(h,(function(t,n){u.push(r.parseBlock(n,e,t))}));var d=a.blocks.length+u.length;if(d>8)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_too_many_blocks,{colonhex:e}));if(8!==d)for(var f=0;f<8-d;f++)a.blocks.push(new b);a.blocks.splice.apply(a.blocks,[a.blocks.length,0].concat(u))}}}else{var v=e.split(":");if(v.length>8)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_too_many_blocks,{colonhex:e}));a.blocks=[],t.each(v,(function(t,n){a.blocks.push(r.parseBlock(n,e,t))}))}return a}return _createClass(r,[{key:"toString",value:function(){return s(this.blocks.join(":"))}},{key:"getBinary",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o(this.blocks.map((function(t){return t.value})),t?":":"",!0)}},{key:"setBinary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t=t.replace(/:/g,"")),this.constructor(l(t)),this}},{key:"networkAddress",value:function(t){for(var e=this.getBinary(),n=t.getBinary(),a="",s=0,o=n.length;s<o;s++)a+="1"===n[s]?e[s]:n[s];return new r(l(a))}}],[{key:"parseBlock",value:function(e,n,r){var a=parseInt(e,16);if(isNaN(a)||!/^[a-f\d]{1,4}$/i.test(e))throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_block_invalid,{colonhex:n,n:r,why:Laravel.jsLocales.vlsm_error_ipv6add_block_invalid_nan}));if(a<0||a>65535)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_ipv6add_block_invalid,{colonhex:n,n:r,why:Laravel.jsLocales.vlsm_error_ipv6add_block_invalid_range}));return new b(a)}},{key:"fromBinary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t=t.replace(/:/g,"")),new r(l(t))}}]),r}(y),L=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,e),this.ipv6=a,this.length=parseInt(n,10),!r){var s=a?128:32,o=0;if(this.length>s||this.length<o)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_mask_length_invalid,{max:s,min:o}))}}return _createClass(e,[{key:"toString",value:function(){return this.length.toString()}},{key:"getDecimal",value:function(){return(this.ipv6?l:i)(this.getBinary())}},{key:"getReverseDecimal",value:function(){return(this.ipv6?l:i)(this.getReverseBinary())}},{key:"getAbbrev",value:function(){return this.ipv6||30===this.length||this.length%8==0?this.length:this.getDecimal().replace(/^(?:255(\.))+/,"$1")}},{key:"getBinary",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=a(Array(this.length+1).join("1"),t.pad.right,this.ipv6);return n&&(r=e._separateBinary(r)),r}},{key:"getReverseBinary",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=a(Array(this.length+1).join("0"),t.pad.right,this.ipv6,"1");return n&&(r=e._separateBinary(r)),r}}],[{key:"_separateBinary",value:function(t){return t.match(new RegExp(".{"+(this.ipv6?16:8)+"}","g")).join(this.ipv6?":":".")}}]),e}(),x=function(){function t(e){_classCallCheck(this,t);var n=e.split("/"),r=n[0].trim(),a="6"===c(e);this.mask=new L(n[1].trim(),!1,a),this.ip=(a?new k(r):new w(r)).networkAddress(this.mask)}return _createClass(t,[{key:"toString",value:function(){return this.ip+"/"+this.mask}},{key:"setMask",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.mask=new L(t,!1,e),this.ip=this.ip.networkAddress(this.mask),this}}]),t}(),C=function(){function e(n,r){_classCallCheck(this,e);var a=n.trim().replace(/(?:^|\s+)\/\/.*$/,"");if(0!==a.length){if(!(a=a.match(/^\s*(.*)\s+(\d+|\/\d{1,3})(?:\s+(gép|eszköz|ips?|pcs?|devices?|ger[aä]te?))?\s*$/i)))throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_subnet_line_invalid,{line:n,why:Laravel.jsLocales.vlsm_error_subnet_line_invalid_format}));if((a=a.slice(1)).length<2)throw new _(t.translatePlaceholders(Laravel.jsLocales.vlsm_error_subnet_line_invalid,{line:n,why:Laravel.jsLocales.vlsm_error_subnet_line_invalid_count}));var s;if(this.name=a[0],"/"===a[1][0]){var o=r?128:32;s=Math.pow(2,o-t.rangeLimit(parseInt(a[1].substring(1)),!1,0,o)),a[2]="ip"}else s=parseInt(a[1]);/^ips?$/.test(a[2])?(this.minimumPCs=s-2,this.minimumIPs=s):(this.minimumPCs=s,this.minimumIPs=s+2),this.addressCount=h(this.minimumIPs)}else this.empty=!0}return _createClass(e,[{key:"toString",value:function(){return t.translatePlaceholders(Laravel.jsLocales.vlsm_subnet_tostring,{name:this.name,addresscount:this.addressCount,usable:Math.max(0,this.addressCount-2)})}}]),e}(),j=function e(n,r){var a=this;_classCallCheck(this,e),this.networks=[],t.each(n,(function(t,e){var n=new C(e,r);n.empty||a.networks.push(n)}))},P=function(){function e(n){_classCallCheck(this,e),this.seq=parseInt(n.seq,10);var r=4294967294;if(this.seq<1||this.seq>r)throw new _(t.translatePlaceholders(Laravel.jsLocales.prefix_list_error_seq_number_invalid,{min:1,max:r}));if(this.action=n.action,this.subnet=n.subnet,void 0!==n.le){if(this.le=parseInt(n.le,10),this.subnet.mask.length>=this.le)throw new _(t.translatePlaceholders(Laravel.jsLocales.prefix_list_error_gtlen,{netw:this.subnet,len:this.subnet.mask.length,val:this.le+" (le)"}))}else this.le=null;if(void 0!==n.ge){if(this.ge=parseInt(n.ge,10),this.subnet.mask.length>=this.ge)throw new _(t.translatePlaceholders(Laravel.jsLocales.prefix_list_error_gtlen,{netw:this.subnet,len:this.subnet.mask.length,val:this.ge+" (ge)"}));if(null!==this.le&&this.ge>this.le)throw new _(t.translatePlaceholders(Laravel.jsLocales.prefix_list_error_ge_le,{netw:this.subnet,len:this.subnet.mask.length,ge:this.ge,le:this.le}))}else this.ge=null}return _createClass(e,[{key:"matches",value:function(t){if(null===this.ge&&null===this.le)return this.subnet.toString()===t.toString();var e=this.subnet.ip.toString();0===this.subnet.mask.length&&(t=new x(e+"/"+t.mask.length));for(var n=this.le||32,r=this.ge||0,a=n;a>=r;a--){var s=t.mask.length===a?t.ip:t.ip.networkAddress(new L(a));if(console.log(e,s.toString(),a,t.mask.length),e===s.toString()&&a===t.mask.length)return!0}}}]),e}(),S={acf:"10.0.0.0/8",bc:"172.16.0.0/16",bf:"172.16.0.0/12",cc:"192.168.0.0/24",cf:"192.168.0.0/16"};t(".ql-acf, .ql-bc, .ql-bf, .ql-cc, .ql-cf").on("click",(function(e){e.preventDefault();var n=t(this),r=n.attr("class").replace("ql-",""),a=n.parents(".form-group").find("input[id]");a.addClass("fade"),setTimeout((function(){a.val(S[r]).removeClass("fade").trigger("change")}),105)})),t(".network-input").on("keyup change input",(function(){var e=t(this),n=e.prev().children(),r=c(e.val())||"?";n.text("IPv"+r)})),function(e){var n,r=t("#".concat(e,"-network")),a=t("#".concat(e,"-subnets")),s=t("#".concat(e,"-network-alert")),o=t("#".concat(e,"-subnets-alert")),i=t("#".concat(e,"-output")),l=t("#".concat(e,"-output-mode")),c=t("#".concat(e,"-output-simple")),h=t("#".concat(e,"-form")),u="networking-vlsm_output_type",d=function(t){"simple"===t?(n=t,window.localStorage&&localStorage.setItem(u,n)):(n="fancy",window.localStorage&&localStorage.removeItem(u))};window.localStorage&&d(localStorage.getItem(u));var f=function(){l.find("a").removeClass("active").filter('[data-mode="'.concat(n,'"]')).addClass("active"),l.nextAll().addClass("d-none").filter(".".concat(n,"-only")).removeClass("d-none")};l.on("click","a[data-mode]",(function(e){var n=t(e.target).closest("a");n.hasClass("active")||(d(n.attr("data-mode")),f())})),h.on("submit",(function(n){var l,h;n.preventDefault(),s.add(o).hide();try{l=new x(r.val())}catch(t){if(!(t instanceof _))throw t;return s.children(".text").text(n.message).end().show(),i.addClass("d-none")}var u=l.ip instanceof k;try{h=new j(a.val().split("\n"),u)}catch(t){if(!(t instanceof _))throw t;return o.children(".text").text(n.message).end().show(),i.addClass("d-none")}h.networks=h.networks.sort((function(t,e){return t.addressCount===e.addressCount?t.name.localeCompare(e.name):t.addressCount>e.addressCount?-1:1})),i.removeClass("d-none"),f(),t("#".concat(e,"-ip-dec")).text(l.ip.toString()),t("#".concat(e,"-mask-dec")).html(l.mask.getDecimal()+" &mdash;&rarr; /"+l.mask.length);var d=t("#".concat(e,"-subnets-output")).children("tbody").empty(),v=l,p=null,g=["".concat(Laravel.jsLocales.network,": ").concat(l.ip.toString(),"/").concat(l.mask.getAbbrev()),Laravel.jsLocales.subnets+":"],m=!1,y=u?128:32;t.each(h.networks,(function(e,n){var r,a=y-Math.log2(n.addressCount);if(e>0){r=v.ip.addBinary(p.addressCount).toString()}else{if(a<v.mask.length)return o.children(".text").text(Laravel.jsLocales.vlsm_network_too_small).end().show(),i.addClass("d-none"),!(m=!0);r=l.ip.toString()}try{v=new x(r+"/"+a)}catch(t){if(!(t instanceof _))throw t;return o.children(".text").text(t.message).end().show(),i.addClass("d-none"),!(m=!0)}p=n,g.push("".concat(n.name," | ").concat(v.ip.toString(),"/").concat(v.mask.getAbbrev())),d.append('<tr>\n\t\t\t\t\t\t<th rowspan="2" class="bg-primary text-white sn-name">'.concat(n.name,"</th>\n\t\t\t\t\t\t<td>").concat(v.ip.toString(),"</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t").concat(v.mask.getDecimal()," &mdash;&rarr; /").concat(v.mask.length,"<br>\n\t\t\t\t\t\t\t(").concat(Laravel.jsLocales.vlsm_mask_reverse,": ").concat(v.mask.getReverseDecimal(),')\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="table-info">\n\t\t\t\t\t\t<td colspan="2">\n\t\t\t\t\t\t\t').concat(t.translatePlaceholders(Laravel.jsLocales.vlsm_info_line,{pcs:n.minimumPCs,ips:n.minimumIPs}),"\n\t\t\t\t\t\t\t&mdash;&rarr;\n\t\t\t\t\t\t\t").concat(t.translatePlaceholders(Laravel.jsLocales.vlsm_info_line,{pcs:n.addressCount-2,ips:n.addressCount}),"\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>"))})),m||c.html(t('<div class="card-body"/>').text(g.join("\n")))})).on("reset",(function(){i.addClass("d-none"),t(this).find(".network-input").val("").trigger("change")})),t("#".concat(e,"-predefined-data, #").concat(e,"-predefined-data-v6")).on("click",(function(t){t.preventDefault();var e=-1!==this.id.indexOf("-v6");r.val(e?"2001:db8:85a3::1/64":"193.30.30.0/24").trigger("change"),a.val("A 30\nB 60\nC-VLAN1 10\nD-VLAN30 14\nE-VLAN40 14\n"+"F /".concat(e?126:30,"\n")+"G /".concat(e?126:30)).trigger("change"),h.triggerHandler("submit")}))}("vlsm"),d=t("#".concat(u="cidr","-network")),f=t("#".concat(u,"-subnets")),v=t("#".concat(u,"-form")),p=t("#".concat(u,"-output")),g=t("#".concat(u,"-network-alert")),m=t("#".concat(u,"-subnets-alert")),v.on("submit",(function(e){var n,r;e.preventDefault(),g.add(m).hide();try{n=new x(d.val())}catch(t){if(!(t instanceof _))throw t;return g.children(".text").text(e.message).end().show(),p.empty()}try{if(r=parseInt(f.val().trim(),10),isNaN(r))throw new _(Laravel.jsLocales.cidr_error_subnet_line_invalid_format)}catch(t){if(!(t instanceof _))throw t;return m.children(".text").text(e.message).end().show(),p.empty()}var a=n.ip instanceof k,s=h(r),o=Math.log2(s),i=n.mask.length+o;if(i>(a?127:31)||i<1)return m.children(".text").text(Laravel.jsLocales.vlsm_error_mask_length_overflow).end().show(),p.empty();n.setMask(i,a);for(var l=[n.toString()],c=0;c<r-1;c++)n.ip.incrRange(n.mask.length-o,o,1),l.push(n.toString());var u=t.mk("ol");t.each(l,(function(e,n){u.append(t.mk("li").text(n))})),p.html(t('<div class="card-body"/>').html(u))})).on("reset",(function(){p.empty(),t(this).find(".network-input").val("").trigger("change")})),t("#".concat(u,"-predefined-data, #").concat(u,"-predefined-data-v6")).on("click",(function(t){t.preventDefault(),d.val(-1===this.id.indexOf("-v6")?"10.0.0.0/8":"2001:db8:85a3::1/64").trigger("change"),f.val("11").trigger("change"),v.triggerHandler("submit")})),function(e){var n=t("#".concat(e,"-networks")),r=t("#".concat(e,"-form")),a=t("#".concat(e,"-output")),s=t("#".concat(e,"-networks-alert"));r.on("submit",(function(e){e.preventDefault();var r=n.val().trim();if(!r)return a.empty();r=r.split("\n");var o="6"===c(r[0]),i={};t.each(r,(function(t,e){var n;try{if(n=new x(e),o&&n.ip instanceof w||!o&&n.ip instanceof k)return s.children(".text").text(Laravel.jsLocales.summary_error_mixed_ip_versions).end().show(),a.empty()}catch(t){if(!(t instanceof _))throw t;return s.children(".text").text(t.message).end().show(),a.empty()}i[n.ip.getBinary()]=!0}));var l=Object.keys(i).sort(),h=l.length;if(h<2)return s.children(".text").text(Laravel.jsLocales.summary_not_enough_addresses).end().show(),a.empty();var u=o?128:32,d=0;t:for(;d<u;d++)for(var f=l[0][d],v=1;v<h;v++)if(f!==l[v][d])break t;if(0===d)return s.children(".text").text(Laravel.jsLocales.summary_uncommon).end().show(),a.empty();a.html('<div class="card-body">'.concat((o?k:w).fromBinary(l[0])+"/"+d,"</div>"))})).on("reset",(function(){a.empty()})),t("#".concat(e,"-predefined-data, #").concat(e,"-predefined-data-v6")).on("click",(function(t){t.preventDefault(),n.val(-1===this.id.indexOf("-v6")?"172.16.32.0/24\n172.16.40.0/24\n172.16.44.0/24\n172.16.46.0/24":"2001:db8:acad:10::/64\n2001:db8:acad:11::/64\n2001:db8:acad:12::/64\n2001:db8:acad:13::/64").trigger("change"),r.triggerHandler("submit")}))}("summary"),function(e){var n=t("#".concat(e,"-show-output")),r=t("#".concat(e,"-show-output-alert")),a=t("#".concat(e,"-network")),s=t("#".concat(e,"-network-alert")),o=t("#".concat(e,"-form")),i=t("#".concat(e,"-output")),l=" *seq (-?\\d+) (permit|deny) ([\\d.]+)\\/(\\d{1,2})(?: ge (\\d{1,2}))?(?: le (\\d{1,2}))?",h=new RegExp(l,"g"),u=new RegExp("^ip prefix-list [a-zA-Z\\d_-]{1,63}: \\d+ entries(?:\\n(?:".concat(l,"|description .{1,80}))+$"));n.attr("pattern",u.source),o.on("submit",(function(e){e.preventDefault();var o=a.val().trim();if(!o)return i.empty();if("6"===c(o))return s.children(".text").text(Laravel.jsLocales.error_ipv4_only).end().show(),i.empty();try{o=new x(o)}catch(t){if(!(t instanceof _))throw t;return s.children(".text").text(t.message).end().show(),i.empty()}s.hide();var l,d=n.val(),f={};if(!u.test(d))return r.children(".text").text(Laravel.jsLocales.prefix_list_error_show_invalid).end().show(),i.empty();for(;null!==(l=h.exec(d));){var v=_slicedToArray(l.slice(1),6),p=v[0],g=v[1],m=v[2],y=v[3],w=v[4],b=v[5];try{var k=new x(m+"/"+y);f[p]=new P({seq:p,action:g,subnet:k,ge:w,le:b})}catch(e){if(!(e instanceof _))throw e;return r.children(".text").text(t.translatePlaceholders(Laravel.jsLocales.prefix_list_error_seq_invalid,{seq:p})+": "+e.message).end().show(),i.empty()}}r.hide();var L=Object.keys(f).sort();console.log(f,L);for(var C=null,j=0;j<L.length;j++){var S=f[L[j]];if(S.matches(o)){C=S;break}}C?i.html('<div class="alert alert-success">'.concat(t.translatePlaceholders(Laravel.jsLocales.prefix_list_match,{action:'<strong class="text-'.concat("permit"===C.action?"success":"danger",'">').concat(C.action,"</strong>"),seq:C.seq}),"</div>")):i.html('<div class="alert alert-danger">'.concat(t.translatePlaceholders(Laravel.jsLocales.prefix_list_nomatch),"</div>"))})).on("reset",(function(){i.empty()})),t("#".concat(e,"-predefined-data")).on("click",(function(t){t.preventDefault(),a.val(a.attr("placeholder")).trigger("change"),n.val(n.attr("placeholder")).trigger("change"),o.triggerHandler("submit")}))}("prefix-list"),function(e){for(var n=t("#".concat("masktable","-tbody")),r=0;r<=32;r++){var a=new L(r,!0);n.append("<tr>\n\t\t\t\t\t<td>/".concat(r,"</td>\n\t\t\t\t\t<td>").concat(a.getDecimal(),"</td>\n\t\t\t\t\t<td>").concat(a.getReverseDecimal(),"</td>\n\t\t\t\t</tr>"))}}()}(jQuery);
//# sourceMappingURL=../maps/networking.js.map
