{"version":3,"sources":["netsalary.js"],"names":["$form","$","$grossInput","$minWageBtn","$outputWrap","$outputTbody","children","$totalDeductPerc","$totalDeduct","$netSalaryPerc","$netSalary","deductions","income_tax","pension_contrib","health_ins_contrib","unemployed_contrib","money","amount","toLocaleString","replace","on","e","preventDefault","grossSalary","parseInt","val","isNaN","isFinite","removeClass","totalDeducted","netSalary","empty","each","key","perc_amount","roundTo","append","mk","text","Laravel","jsLocales","addClass","triggerHandler"],"mappings":"AAAA,cAAA,WAGI,IAEIA,EAAQC,EAAE,oBACVC,EAAcD,EAAE,iBAChBE,EAAcF,EAAE,iBAChBG,EAAcH,EAAE,oBAEhBI,EADeJ,EAAE,eACWK,SAAS,SACrCC,EAAmBN,EAAE,0BACrBO,EAAeP,EAAE,qBACjBQ,EAAiBR,EAAE,oBACnBS,EAAaT,EAAE,eACfU,EAAa,CACTC,WAAY,GACZC,gBAAiB,GACjBC,mBAAoB,EACpBC,mBAAoB,KAExBC,EAAQ,SAAAC,GAAM,OAAIA,EAAOC,iBAAiBC,QAAQ,wBAAyB,KAAO,OAEtFnB,EAAMoB,GAAG,UAAU,SAAAC,GACfA,EAAEC,iBAEF,IAAMC,EAAcC,SAAStB,EAAYuB,MAAO,IAChD,IAAIC,MAAMH,IAAiBI,SAASJ,GAApC,CAGOrB,EAAY0B,YAAY,cAE/B,IACIC,EAAgB,EAChBC,EAAYP,EAChBlB,EAAa0B,QACb9B,EAAE+B,KAAKrB,GAAY,SAACsB,EAAKC,GACrB,IAAMjB,EAAShB,EAAEkC,QAASD,EAAc,IAAOX,EAAa,GAC5DM,GAAiBK,EACjBJ,GAAab,EACbZ,EAAa+B,OACTnC,EAAEoC,GAAG,MAAMD,OACPnC,EAAEoC,GAAG,MAAMC,KAAKC,QAAQC,UAAU7B,WAAWsB,IAC7ChC,EAAEoC,GAAG,MAAMC,KAAKJ,EAAYhB,iBAAmB,KAC/CjB,EAAEoC,GAAG,MAAMC,KAAKtB,EAAMC,SAKlCV,EAAiB+B,KAAKT,EAAcX,iBAAmB,KACvDV,EAAa8B,KAAKtB,EAAOa,EAAgB,IAAON,IAEhDd,EAAe6B,KAAMrC,EAAEkC,QAASL,EAAYP,EAAe,IAAK,GAAIL,iBAAmB,KACvFR,EAAW4B,KAAKtB,EAAMc,IAEtB1B,EAAYwB,YAAY,eA3BpB1B,EAAYuC,SAAS,iBA4B1BrB,GAAG,SAAS,SAAAC,GACXA,EAAEC,iBAEFpB,EAAYuB,IAAI,IAChBrB,EAAYqC,SAAS,aAGzBtC,EAAYiB,GAAG,SAAS,SAAAC,GACpBA,EAAEC,iBAEFpB,EAAYuB,IA9DF,OA+DVzB,EAAM0C,eAAe,aAnE7B","file":"../js/netsalary.js","sourcesContent":["(function () {\n    \"use strict\";\n\n    const\n        minWage = 161000,\n        $form = $('#net-salary-calc'),\n        $grossInput = $('#gross-salary'),\n        $minWageBtn = $('#min-wage-btn'),\n        $outputWrap = $('#net-output-wrap'),\n        $outputTable = $('#net-output'),\n        $outputTbody = $outputTable.children('tbody'),\n        $totalDeductPerc = $('#total-deductions-perc'),\n        $totalDeduct = $('#total-deductions'),\n        $netSalaryPerc = $('#net-salary-perc'),\n        $netSalary = $('#net-salary'),\n        deductions = {\n            income_tax: 15,\n            pension_contrib: 10,\n            health_ins_contrib: 7,\n            unemployed_contrib: 1.5,\n        },\n        money = amount => amount.toLocaleString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ') + ' Ft';\n\n    $form.on('submit', e => {\n        e.preventDefault();\n\n        const grossSalary = parseInt($grossInput.val(), 10);\n        if (isNaN(grossSalary) || !isFinite(grossSalary)) {\n            $grossInput.addClass('is-invalid');\n            return;\n        } else $grossInput.removeClass('is-invalid');\n\n        let\n            totalDeducted = 0,\n            netSalary = grossSalary;\n        $outputTbody.empty();\n        $.each(deductions, (key, perc_amount) => {\n            const amount = $.roundTo((perc_amount / 100) * grossSalary, 2);\n            totalDeducted += perc_amount;\n            netSalary -= amount;\n            $outputTbody.append(\n                $.mk('tr').append(\n                    $.mk('td').text(Laravel.jsLocales.deductions[key]),\n                    $.mk('td').text(perc_amount.toLocaleString() + '%'),\n                    $.mk('td').text(money(amount))\n                )\n            );\n        });\n\n        $totalDeductPerc.text(totalDeducted.toLocaleString() + '%');\n        $totalDeduct.text(money((totalDeducted / 100) * grossSalary));\n\n        $netSalaryPerc.text(($.roundTo((netSalary / grossSalary) * 100, 2)).toLocaleString() + '%');\n        $netSalary.text(money(netSalary));\n\n        $outputWrap.removeClass('d-none');\n    }).on('reset', e => {\n        e.preventDefault();\n\n        $grossInput.val('');\n        $outputWrap.addClass('d-none');\n    });\n\n    $minWageBtn.on('click', e => {\n        e.preventDefault();\n\n        $grossInput.val(minWage);\n        $form.triggerHandler('submit');\n    });\n})();\n"]}