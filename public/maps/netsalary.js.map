{"version":3,"sources":["netsalary.js"],"names":["$form","$","$grossInput","$minWageBtn","$outputWrap","$outputTbody","children","$totalDeductPerc","$totalDeduct","$netSalaryPerc","$netSalary","deductions","income_tax","pension_contrib","health_ins_contrib","unemployed_contrib","money","amount","toLocaleString","replace","on","e","preventDefault","grossSalary","parseInt","val","$formGroup","closest","isNaN","isFinite","removeClass","totalDeducted","netSalary","empty","each","key","perc_amount","roundTo","append","mk","text","Laravel","jsLocales","addClass","triggerHandler"],"mappings":"AAAA,cAAA,WAGI,IAEIA,EAAQC,EAAE,oBACVC,EAAcD,EAAE,iBAChBE,EAAcF,EAAE,iBAChBG,EAAcH,EAAE,oBAEhBI,EADeJ,EAAE,eACWK,SAAS,SACrCC,EAAmBN,EAAE,0BACrBO,EAAeP,EAAE,qBACjBQ,EAAiBR,EAAE,oBACnBS,EAAaT,EAAE,eACfU,EAAa,CACTC,WAAY,GACZC,gBAAiB,GACjBC,mBAAoB,EACpBC,mBAAoB,KAExBC,EAAQ,SAAAC,GAAM,OAAIA,EAAOC,iBAAiBC,QAAQ,wBAAyB,KAAO,OAEtFnB,EAAMoB,GAAG,UAAU,SAAAC,GACfA,EAAEC,iBAEF,IACIC,EAAcC,SAAStB,EAAYuB,MAAO,IAC1CC,EAAaxB,EAAYyB,QAAQ,eACrC,IAAIC,MAAML,IAAiBM,SAASN,GAApC,CAGOG,EAAWI,YAAY,aAE9B,IACIC,EAAgB,EAChBC,EAAYT,EAChBlB,EAAa4B,QACbhC,EAAEiC,KAAKvB,GAAY,SAACwB,EAAKC,GACrB,IAAMnB,EAAShB,EAAEoC,QAASD,EAAc,IAAOb,EAAa,GAC5DQ,GAAiBK,EACjBJ,GAAaf,EACbZ,EAAaiC,OACTrC,EAAEsC,GAAG,MAAMD,OACPrC,EAAEsC,GAAG,MAAMC,KAAKC,QAAQC,UAAU/B,WAAWwB,IAC7ClC,EAAEsC,GAAG,MAAMC,KAAKJ,EAAYlB,iBAAmB,KAC/CjB,EAAEsC,GAAG,MAAMC,KAAKxB,EAAMC,SAKlCV,EAAiBiC,KAAKT,EAAcb,iBAAmB,KACvDV,EAAagC,KAAKxB,EAAOe,EAAgB,IAAOR,IAEhDd,EAAe+B,KAAMvC,EAAEoC,QAASL,EAAYT,EAAe,IAAK,GAAIL,iBAAmB,KACvFR,EAAW8B,KAAKxB,EAAMgB,IAEtB5B,EAAY0B,YAAY,eA3BpBJ,EAAWiB,SAAS,gBA4BzBvB,GAAG,SAAS,SAAAC,GACXA,EAAEC,iBAEFpB,EAAYuB,IAAI,IAChBrB,EAAYuC,SAAS,aAGzBxC,EAAYiB,GAAG,SAAS,SAAAC,GACpBA,EAAEC,iBAEFpB,EAAYuB,IAhEF,OAiEVzB,EAAM4C,eAAe,aArE7B","file":"../js/netsalary.js","sourcesContent":["(function () {\n    \"use strict\";\n\n    const\n        minWage = 161000,\n        $form = $('#net-salary-calc'),\n        $grossInput = $('#gross-salary'),\n        $minWageBtn = $('#min-wage-btn'),\n        $outputWrap = $('#net-output-wrap'),\n        $outputTable = $('#net-output'),\n        $outputTbody = $outputTable.children('tbody'),\n        $totalDeductPerc = $('#total-deductions-perc'),\n        $totalDeduct = $('#total-deductions'),\n        $netSalaryPerc = $('#net-salary-perc'),\n        $netSalary = $('#net-salary'),\n        deductions = {\n            income_tax: 15,\n            pension_contrib: 10,\n            health_ins_contrib: 7,\n            unemployed_contrib: 1.5,\n        },\n        money = amount => amount.toLocaleString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ') + ' Ft';\n\n    $form.on('submit', e => {\n        e.preventDefault();\n\n        const\n            grossSalary = parseInt($grossInput.val(), 10),\n            $formGroup = $grossInput.closest('.form-group');\n        if (isNaN(grossSalary) || !isFinite(grossSalary)) {\n            $formGroup.addClass('has-error');\n            return;\n        } else $formGroup.removeClass('has-error');\n\n        let\n            totalDeducted = 0,\n            netSalary = grossSalary;\n        $outputTbody.empty();\n        $.each(deductions, (key, perc_amount) => {\n            const amount = $.roundTo((perc_amount / 100) * grossSalary, 2);\n            totalDeducted += perc_amount;\n            netSalary -= amount;\n            $outputTbody.append(\n                $.mk('tr').append(\n                    $.mk('td').text(Laravel.jsLocales.deductions[key]),\n                    $.mk('td').text(perc_amount.toLocaleString() + '%'),\n                    $.mk('td').text(money(amount))\n                )\n            );\n        });\n\n        $totalDeductPerc.text(totalDeducted.toLocaleString() + '%');\n        $totalDeduct.text(money((totalDeducted / 100) * grossSalary));\n\n        $netSalaryPerc.text(($.roundTo((netSalary / grossSalary) * 100, 2)).toLocaleString() + '%');\n        $netSalary.text(money(netSalary));\n\n        $outputWrap.removeClass('d-none');\n    }).on('reset', e => {\n        e.preventDefault();\n\n        $grossInput.val('');\n        $outputWrap.addClass('d-none');\n    });\n\n    $minWageBtn.on('click', e => {\n        e.preventDefault();\n\n        $grossInput.val(minWage);\n        $form.triggerHandler('submit');\n    });\n})();\n"]}